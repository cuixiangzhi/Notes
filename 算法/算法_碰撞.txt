碰撞检测数据结构
	k-DOP
		k指的是在某个轴向上有几个边(AABB是4-DOP)
粗略测试阶段2D|3D
	四叉树(八叉树)
		均匀分割地图,每个结点都包含四个或者八个大小一致的子结点
		松散四(八)叉树包含额外的入口和出口范围,用来避免边界上的对象频繁切换结点
	二叉分割树(BSP)
		先计算最大包围盒,然后沿着最长的轴分割成两个子结点,对子结点继续执行分割操作,可能会出现一个对象在两个子树的情况
	层次包围盒树(BVH)
		通过子对象的AABB或者球体来构建树,每次添加结点都要找一个最优的位置插入,一个对象只会被一颗子树所包含
精确测试阶段2D
	粒子相交测试
		粒子可以简化为一个点,判断点在多边形内还是外部即可
	点到线段的距离 圆和线段 圆和扇形
		先通过计算AB*AP求出夹角是锐角还是钝角,然后判断APcos∠PAB大小,也就是P点在线段AB上的投影点clamp到0,1
		然后根据向量加法PA + t*AB = P'P得出垂线段向量,t是0那么就是A点,t是1就是B点
		t = AP * AB / AB * AB
		t < 0,最近点是A,距离为PA
		t > 1,最近点为B,距离为PB
		d = len(PA + t*AB)
	点到矩形的距离 可用于判断圆和矩形是否相交
		V向量(矩形中心指向圆心P,并且x、y都取绝对值,保证P点在右上角) 
		H向量(矩形中心指向右上角顶点)
		U向量(右上角指向圆心P,x、y都大于等于0)
		vector2 v = abs(p-c);
		vector2 u = max(v-h,vector2.zero);
		return u * u <= r * r;
	点和三角形的关系
		求出质心坐标(u,v),三角形内的点满足(u >= 0) && (v >= 0) && (u + v < 1)  
		AP = u * AB + v * AC
		AP * AB = u * AB * AB + v * AC * AB
		AP * AC = u * AB * AC + v * AC * AC
		简化代码
			d20 = AP * AB; d00 = AB * AB; d01 = AB * AC; 
			d21 = AP * AC; d10 = AB * AC; d11 = AC * AC;   
			d20 = u * d00 + v * d01
			d21 = u * d10 + v * d11
		联立解得
		denom = d01 * d10 - d00 * d11
		u = (d20 * d11 - d01 * d21) / denom;
		v = (d20 * d10 - d00 * d21) / denom;
		return (u >= 0) && (v >= 0) && (u + v < 1) 
	点和多边形的关系
		pnpoly算法,从该点沿坐标轴X向右或者向左发射射线,检测射线与多边形的交点个数,奇数个则相交
		根据已知条件 I是左点 J是右点 交点是Q 其中Q在IJ之间并且IQx/IJx = IQz/IJz 可知Qx=IJx * IQz/IJz + Ix
		判断是否相交 Qx <= Px  (只能向左或者向右发射射线,只判断同一方向)
	线段和线段的关系
		AB、CD,首先判断CD是否在AB两侧并且AB在CD两侧,并且共面
		normalize(cross(AB,AC)) == normalize(cross(AD,AB)) 
		normalize(cross(CD,CA)) == normalize(cross(CB,CD)) 
	凸多边形和凸多边形的关系
		分离轴算法,遍历所有的边,取边的垂线作为分离轴,计算两个凸多边形在轴上的投影范围,投影有一个不相交则两个多边形是分离的
		已知两点A、B,分离轴经过原点,向量AB和OP互相垂直(斜率相乘为1),那么分离轴为向量 n = (ABz,0,-ABx)
		计算投影范围,也就是计算原点指向边的顶点的向量在n上的投影(可以直接通过点乘计算)
		
精确测试阶段3D
	包围球
		(a-b)^2 > (ar + br)^2           
	点到平面距离
		平面可以通过一点v和法向量n定义
		任意点p到平面的有符号距离d = |vp|cos0 = (vp*vn)/|vn|
		根据符号可以判断出点p在平面的哪一侧,d大于0在正面,d小于0在反面
		使用向量加法和距离d可以计算出投影点p'位置,判断p'在不在多边形(XZ平面)内,不在平面内则计算与边的最短距离
		d = |N * v + D| / |N|
	点到AABB的距离
		针对三个轴把P点坐标限制到aabb的min和max(在min和max之间的不处理),得出的点在AABB上,就是最近的点
	射线与三角形的位置关系
		首先计算射线与三角形所在平面的交点坐标
			射线方程为 P = O + t * Ray
			平面方程为 n * P + D = 0
			联立方程可得 t = -(D + n * O)/(n * Ray) t小于0表示平面在射线背后
		然后计算交点的质心坐标
	射线和AABB的位置关系
		已知射线起点为O 方向为L 平面法线为N 平面交点为P OP=O+t*L
		计算射线与XYZ三个方向的平面的交点比例(tx1,tx2) (ty1,ty2) (tz1,tz2)
		如果三组范围值有交叉,则相交